/* Hover Editor */

.popover.hover-editor {
	--folding-offset:10px;
}

.theme-light,
.theme-dark {
	--he-title-bar-inactive-bg:var(--background-secondary);
	--he-title-bar-inactive-pinned-bg:var(--background-secondary);
	--he-title-bar-active-pinned-bg:var(--background-secondary);
	--he-title-bar-active-bg:var(--background-secondary);
	--he-title-bar-inactive-fg:var(--text-muted);
	--he-title-bar-active-fg:var(--text-normal);
	--he-title-bar-font-size:14px;
}
.theme-light {
	--popover-shadow:
	0px 2.7px 3.1px rgba(0, 0, 0, 0.032),
	0px 5.9px 8.7px rgba(0, 0, 0, 0.052),
	0px 10.4px 18.1px rgba(0, 0, 0, 0.071),
	0px 20px 40px rgba(0, 0, 0, 0.11)
	;
}
.theme-dark {
	--popover-shadow:
	0px 2.7px 3.1px rgba(0, 0, 0, 0.081),
	0px 5.9px 8.7px rgba(0, 0, 0, 0.131),
	0px 10.4px 18.1px rgba(0, 0, 0, 0.18),
	0px 20px 40px rgba(0, 0, 0, 0.28)
	;
}
.popover.hover-editor:not(.snap-to-viewport) {
	--max-width:92%;
	.markdown-preview-view,
	.markdown-source-view .cm-content {
		font-size:90%;
	}
}

body .popover.hover-editor:not(.is-loaded) {
	box-shadow:var(--popover-shadow);

	.markdown-preview-view {
		padding:15px 0 0 0;
	}
	.view-content {
		height:100%;
		background-color:var(--background-primary);
	}
	.view-actions {
		height:auto;
	}
	.popover-content {
		border:1px solid var(--background-modifier-border-hover);
	}
	.popover-titlebar {
		padding:0 4px;
		.popover-title {
			padding-left:4px;
			letter-spacing: -.02em;
			font-weight:var(--title-weight);
		}
	}

	.markdown-embed {
		height:auto;
		font-size:unset;
		line-height:unset;
		.markdown-preview-view {
			padding:0;
		}
	}

	&.show-navbar {
		.popover-titlebar {
			border-bottom:var(--border-width) solid var(--background-modifier-border);
		}
	}

	.popover-action,
	.popover-header-icon {
		cursor:var(--cursor);
		margin:4px 0;
		padding:4px 3px;
		border-radius:var(--radius-m);
		color:var(--icon-color);

		&.mod-pin-popover {
			padding:4px 2px;
		}

		svg {
			opacity:var(--icon-muted);
		}

		&:hover {
			background-color:var(--background-modifier-hover);
			color:var(--icon-color-hover);
			svg {
				opacity:1;
				transition:opacity 0.1s ease-in-out;
			}
		}
		&.is-active {
			color:var(--icon-color);
		}

	}
}
